{"version":3,"sources":["graphql/entryMutations.js","RealmApp.js","components/EntryForm.tsx","components/EntryModal.tsx","graphql/useEntries.js","graphql/application.js","components/Home.tsx","components/LoginScreen.js","components/ErrorHandler.js","graphql/RealmApolloProvider.js","components/PrivateRoute.js","components/AddEntry.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ADD_ENTRY","gql","DELETE_ENTRY","RealmAppContext","React","createContext","useRealmApp","app","useContext","Error","RealmAppProvider","appId","children","useState","Realm","setApp","useEffect","currentUser","setCurrentUser","credentials","a","logIn","logOut","wrapped","forceLogout","accessToken","refreshToken","Provider","value","EntryForm","props","initial","title","entry","date","Date","amount","type","is_recurring","state","setState","useMutation","addEntryMutation","submitFromOutside","updateEntry","storeEntry","variables","data","user","link","_id","then","response","onSubmitted","console","log","className","name","onChange","e","target","placeholder","toISOString","split","parseFloat","min","id","checked","htmlFor","classNames","require","library","add","faCircleNotch","EntryModal","loading","setLoading","shouldSubmitForm","setShouldSubmitForm","submitButtonText","headlineText","role","aria-modal","aria-labelledby","setShowModal","onClick","preventDefault","icon","ENTRIES","GET_APPLICATION","UPDATE_APPLICATION","faTrashAlt","faPencilAlt","entriesByDate","entries","recurringEntries","filteredByDate","filter","dayjs","startOf","isSame","result","map","recurringDate","month","get","year","sortEntriesByDate","concat","isAfter","sort","b","withRouter","initialBalance","setInitialBalance","numberOfMonths","setNumberOfMonths","setEntries","setRecurringEntries","generatedMonths","setGeneratedMonths","deleteEntry","updateApplication","undefined","selectedEntry","setSelectedEntry","balanceInput","useRef","document","createElement","showModal","currentBalance","useLazyQuery","onCompleted","onError","error","fetch","query","customData","application","balance","current","getApplication","months","i","push","handleOnEditClick","Fragment","ref","defaultValue","event","parseInt","length","format","dateKey","handleOnEntryClick","key","LoginScreen","mode","email","setEmail","password","setPassword","setError","setIsLoggingIn","handleLogin","emailPassword","handleAuthenticationError","to","aria-label","required","fill","viewBox","fillRule","d","clipRule","err","parts","message","reason","trimStart","status","reasonRegex","match","groups","parseAuthenticationError","prevErr","ErrorStatusContext","ErrorHandler","history","useHistory","errorStatusCode","setErrorStatusCode","listen","createRealmApolloClient","HttpLink","uri","options","refreshCustomData","catch","headers","Authorization","cache","InMemoryCache","ApolloClient","RealmApolloProvider","client","setClient","PrivateRoute","Component","component","rest","render","pathname","from","location","addEntry","entryData","setEntryData","handleInputChange","HTMLInputElement","App","exact","path","Home","AddEntry","Boolean","window","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dbe90884.chunk.js","sourcesContent":["import {gql} from '@apollo/client';\r\n\r\nexport const ADD_ENTRY = gql`\r\n  mutation AddEntry($data: EntryInsertInput!) {\r\n    insertOneEntry(data: $data) {\r\n      _id\r\n      title\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_ENTRY = gql`\r\n  mutation DeleteEntry($query: EntryQueryInput!) {\r\n    deleteOneEntry(query: $query) {\r\n      _id\r\n      title\r\n    }\r\n  }\r\n`;","import React, {useContext} from \"react\";\r\nimport * as Realm from \"realm-web\";\r\n\r\nconst RealmAppContext = React.createContext();\r\n\r\nexport const useRealmApp = () => {\r\n    const app = React.useContext(RealmAppContext);\r\n    if (!app) {\r\n        throw new Error(\r\n            `You must call useRealmApp() inside of a <RealmAppProvider />`\r\n        );\r\n    }\r\n    return app;\r\n};\r\n\r\nexport const RealmAppProvider = ({ appId, children }) => {\r\n    const [app, setApp] = React.useState(new Realm.App(appId));\r\n    React.useEffect(() => {\r\n        setApp(new Realm.App(appId));\r\n    }, [appId]);\r\n\r\n    // Wrap the Realm.App object's user state with React state\r\n    const [currentUser, setCurrentUser] = React.useState(app.currentUser);\r\n    async function logIn(credentials) {\r\n        await app.logIn(credentials);\r\n        // If successful, app.currentUser is the user that just logged in\r\n        setCurrentUser(app.currentUser);\r\n    }\r\n    async function logOut() {\r\n        // Log out the currently active user\r\n        await app.currentUser?.logOut();\r\n        // If another user was logged in too, they're now the current user.\r\n        // Otherwise, app.currentUser is null.\r\n        setCurrentUser(app.currentUser);\r\n    }\r\n\r\n    function forceLogout() {\r\n        if (currentUser) {\r\n            currentUser.accessToken = null;\r\n            currentUser.refreshToken = null;\r\n            setCurrentUser(null);\r\n        }\r\n    }\r\n\r\n    const wrapped = { ...app, currentUser, logIn, logOut, forceLogout };\r\n\r\n    return (\r\n        <RealmAppContext.Provider value={wrapped}>\r\n            {children}\r\n        </RealmAppContext.Provider>\r\n    );\r\n};\r\n","import {useState, useEffect} from 'react'\r\nimport {useMutation} from \"@apollo/client\";\r\nimport {ADD_ENTRY} from \"../graphql/entryMutations\";\r\nimport {useRealmApp} from \"../RealmApp\";\r\nimport {iEntry} from \"../types\";\r\n\r\ninterface Props {\r\n  entry?: iEntry,\r\n  submitFromOutside: boolean,\r\n  onSubmitted?: Function\r\n}\r\n\r\nconst EntryForm = (props: Props) => {\r\n\r\n  const initial = {\r\n    title: props.entry ? props.entry.title : '',\r\n    date: props.entry ? new Date(props.entry.date) : new Date(),\r\n    amount: props.entry ? props.entry.amount : 0,\r\n    type: props.entry ? props.entry.type : 'expense',\r\n    is_recurring: props.entry ? props.entry.is_recurring : false,\r\n  }\r\n  const [state, setState] = useState(initial);\r\n\r\n  const [addEntryMutation] = useMutation(ADD_ENTRY);\r\n\r\n  const app = useRealmApp();\r\n\r\n  useEffect(() => {\r\n    if (props.submitFromOutside) {\r\n      if (props.entry) {\r\n        updateEntry();\r\n      } else {\r\n        storeEntry();\r\n      }\r\n    }\r\n  }, [props.submitFromOutside]);\r\n\r\n  const storeEntry = () => {\r\n    addEntryMutation({\r\n      variables: {\r\n        data: {\r\n          ...state,\r\n          user: {\r\n            link: app.currentUser._id\r\n          }\r\n        }\r\n      }\r\n    }).then(response => {\r\n      if (props.onSubmitted) {\r\n        props.onSubmitted();\r\n      }\r\n      console.log('stored entry:', response);\r\n    });\r\n  }\r\n\r\n  const updateEntry = () => {\r\n\r\n  }\r\n\r\n  return (\r\n    <form className=\"mt-8\">\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        <div className=\"col-span-2\">\r\n          <input\r\n            name=\"title\"\r\n            value={state.title}\r\n            onChange={(e) => setState({...state, title: e.target.value})}\r\n            placeholder=\"Title\"\r\n            className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-2\">\r\n          <input\r\n            name=\"date\"\r\n            value={state.date.toISOString().split('T')[0]}\r\n            onChange={(e) => setState({...state, date: new Date(e.target.value)})}\r\n            type=\"date\"\r\n            placeholder=\"Date\"\r\n            className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <input\r\n            name=\"amount\"\r\n            value={state.amount}\r\n            onChange={(e) => setState({...state, amount: parseFloat(e.target.value)})}\r\n            type=\"number\"\r\n            min=\"0\"\r\n            placeholder=\"Amount\"\r\n            className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <select\r\n            name=\"type\"\r\n            value={state.type}\r\n            onChange={(e) => setState({...state, type: e.target.value})}\r\n            placeholder=\"Type\"\r\n            className=\"mt-1 block form-select w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\">\r\n            <option value=\"expense\">Expense</option>\r\n            <option value=\"income\">Income</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"col-span-2 flex items-start\">\r\n          <div className=\"items-center h-5\">\r\n            <input\r\n              name=\"is_recurring\"\r\n              id=\"is_recurring\"\r\n              checked={state.is_recurring}\r\n              onChange={(e) => setState({...state, is_recurring: e.target.checked})}\r\n              type=\"checkbox\"\r\n              className=\"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out\"/>\r\n          </div>\r\n          <div className=\"ml-3 text-sm leading-5\">\r\n            <label htmlFor=\"is_recurring\" className=\"font-medium text-gray-700\">Is recurring</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default EntryForm","import React, {useState, Fragment} from 'react';\r\nimport {library} from '@fortawesome/fontawesome-svg-core'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faCircleNotch} from '@fortawesome/free-solid-svg-icons';\r\nimport EntryForm from \"./EntryForm\";\r\nimport {iEntry} from \"../types\";\r\n\r\nconst classNames = require('classnames');\r\n\r\nlibrary.add(faCircleNotch);\r\n\r\ninterface Props {\r\n  entry?: iEntry,\r\n  setShowModal: Function,\r\n}\r\n\r\nconst EntryModal = (props: Props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [shouldSubmitForm, setShouldSubmitForm] = useState(false);\r\n\r\n  const submitButtonText = props.entry ? 'Update' : 'Add';\r\n  const headlineText = props.entry ? 'Update entry' : 'Add new entry';\r\n\r\n  const handleSubmitClick: React.MouseEventHandler<HTMLButtonElement> = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setShouldSubmitForm(true);\r\n  };\r\n\r\n  const handleClose: React.MouseEventHandler<HTMLButtonElement> = (e) => {\r\n    e.preventDefault();\r\n    props.setShowModal(false);\r\n  };\r\n\r\n  const handleSubmitted = () => {\r\n    props.setShowModal(false);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"fixed z-10 inset-0 overflow-y-auto\">\r\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n          <div className=\"fixed inset-0 transition-opacity\">\r\n            <div className=\"absolute inset-0 bg-gray-500 opacity-75\"/>\r\n          </div>\r\n\r\n          {/* This element is to trick the browser into centering the modal contents. */}\r\n          <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"/>​\r\n\r\n          <div\r\n            className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"\r\n            role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n              <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-headline\">\r\n                  {headlineText}\r\n                </h3>\r\n                <div className=\"mt-2\">\r\n                  <EntryForm\r\n                    entry={props.entry}\r\n                    submitFromOutside={shouldSubmitForm}\r\n                    onSubmitted={handleSubmitted}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-gray-100 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n              <span className=\"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleSubmitClick}\r\n                  className={classNames(\"inline-flex items-center justify-center w-full rounded-md border border-transparent px-4 py-2 bg-indigo-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo transition ease-in-out duration-150 sm:text-sm sm:leading-5\", {\r\n                    'loading': loading\r\n                  })}\r\n                >\r\n                  {loading &&\r\n                    <FontAwesomeIcon className=\"animate-spin h-5 w-5 mr-3\" icon={[\"fas\", \"circle-notch\"]}/>\r\n                  }\r\n                  {submitButtonText}\r\n                </button>\r\n              </span>\r\n              <span className=\"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto\">\r\n                <button\r\n                  onClick={handleClose}\r\n                  type=\"button\"\r\n                  className=\"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5\">\r\n                  Cancel\r\n                </button>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default EntryModal;","import {gql} from '@apollo/client';\r\n\r\nexport const ENTRIES = gql`\r\n  fragment EntryData on Entry {\r\n    _id\r\n    title\r\n    type\r\n    amount\r\n    is_recurring\r\n    date\r\n  }\r\n  \r\n  query GetAllEntries {\r\n    entries (\r\n      query: { is_recurring: false }\r\n      sortBy: DATE_ASC\r\n    ) {...EntryData}\r\n    \r\n    recurringEntries: entries (\r\n      query: { is_recurring: true }\r\n    ) {...EntryData}\r\n  }\r\n`;","import {gql} from '@apollo/client';\r\n\r\nexport const GET_APPLICATION = gql`\r\n  query GetApplication($query: ApplicationQueryInput) {\r\n    application (\r\n      query: $query\r\n    ) {\r\n      balance\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_APPLICATION = gql`\r\n  mutation UpdateApplication($query: ApplicationQueryInput, $set: ApplicationUpdateInput!) {\r\n    updateOneApplication(query: $query, set: $set) {\r\n      _id\r\n      balance\r\n    }\r\n  }\r\n`;","import React, {useEffect, useState} from 'react'\r\n// import Entry from './Entry'\r\nimport EntryModal from \"./EntryModal\";\r\nimport {withRouter} from \"react-router\"\r\nimport {ENTRIES} from \"../graphql/useEntries\";\r\nimport {useLazyQuery, gql, useMutation} from '@apollo/client';\r\nimport dayjs from \"dayjs\";\r\nimport {library} from '@fortawesome/fontawesome-svg-core'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faTrashAlt} from '@fortawesome/free-regular-svg-icons'\r\nimport {faPencilAlt} from '@fortawesome/free-solid-svg-icons'\r\nimport {DELETE_ENTRY} from \"../graphql/entryMutations\";\r\nimport {useRealmApp} from \"../RealmApp\";\r\nimport {GET_APPLICATION, UPDATE_APPLICATION} from \"../graphql/application\";\r\nimport {iEntry} from \"../types\";\r\n\r\nlibrary.add(faTrashAlt);\r\nlibrary.add(faPencilAlt);\r\n\r\nconst classNames = require('classnames');\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\ninterface iSelectedEntry {\r\n  entry: iEntry,\r\n  dateKey: string,\r\n}\r\n\r\nconst Home = (props: Props) => {\r\n  const [initialBalance, setInitialBalance] = useState(10000);\r\n  const [numberOfMonths, setNumberOfMonths] = useState<number>(4);\r\n  const [entries, setEntries] = useState([]);\r\n  const [recurringEntries, setRecurringEntries] = useState([]);\r\n  const [generatedMonths, setGeneratedMonths] = useState<Array<dayjs.Dayjs>>([]);\r\n  const [deleteEntry] = useMutation(DELETE_ENTRY);\r\n  const [updateApplication] = useMutation(UPDATE_APPLICATION);\r\n  const [selectedEntry, setSelectedEntry] = useState<iSelectedEntry | undefined>(undefined);\r\n  const app = useRealmApp();\r\n  const balanceInput = React.useRef(document.createElement(\"input\"))\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n\r\n  let currentBalance = initialBalance;\r\n\r\n  const [fetch, {loading, error, data}] = useLazyQuery(ENTRIES, {\r\n    onCompleted: (result) => {\r\n      console.log('completed with data:', result);\r\n      setEntries(result.entries);\r\n      setRecurringEntries(result.recurringEntries);\r\n    },\r\n    onError: (error) => {\r\n      console.log(error);\r\n    }\r\n  });\r\n\r\n  const [getApplication] = useLazyQuery(GET_APPLICATION, {\r\n    variables: {\r\n      query: {\r\n        _id: app.currentUser.customData.application\r\n      }\r\n    },\r\n    onCompleted: (result) => {\r\n      setInitialBalance(result.application.balance);\r\n      balanceInput.current.value = result.application.balance;\r\n    },\r\n    onError: (error) => {\r\n      console.log(error);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n    getApplication();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let months = [];\r\n    for (let i = 0; i < numberOfMonths; i++) {\r\n      months.push(dayjs().add(i, 'month').startOf('month'));\r\n    }\r\n    setGeneratedMonths(months);\r\n  }, [numberOfMonths]);\r\n\r\n  const handleOnEntryClick = (entry: iEntry, dateKey: string) => {\r\n    setSelectedEntry({\r\n      dateKey: dateKey,\r\n      entry: entry,\r\n    });\r\n  };\r\n\r\n  const handleOnEditClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.preventDefault();\r\n    setShowModal(true);\r\n  };\r\n\r\n  const isSelectedEntry = (key: string) => {\r\n    return selectedEntry && selectedEntry.dateKey === key;\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showModal &&\r\n        <EntryModal\r\n         setShowModal={setShowModal}\r\n         entry={selectedEntry?.entry}\r\n        />\r\n      }\r\n\r\n    <div\r\n      className=\"min-h-screen flex justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 text-xs md:text-sm\"\r\n    >\r\n      <div className=\"max-w-2xl w-full\">\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div className=\"col-span-1\">\r\n            <label htmlFor=\"balance\" className=\"block text-sm font-medium leading-5 text-gray-700\">\r\n              Initial balance\r\n            </label>\r\n            <input\r\n              ref={balanceInput}\r\n              name=\"balance\"\r\n              id=\"balance\"\r\n              defaultValue={initialBalance}\r\n              type=\"number\"\r\n              className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n            />\r\n          </div>\r\n          <div className=\"col-span-1\">\r\n            <label htmlFor=\"months\" className=\"block text-sm font-medium leading-5 text-gray-700\">\r\n              Number of months\r\n            </label>\r\n            <input\r\n              name=\"months\"\r\n              id=\"months\"\r\n              defaultValue={numberOfMonths}\r\n              min=\"1\"\r\n              type=\"number\"\r\n              onChange={(event) => {\r\n                setNumberOfMonths(parseInt(event.target.value) || numberOfMonths)\r\n              }}\r\n              className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n            />\r\n          </div>\r\n          <div className=\"col-span-2\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setInitialBalance(parseInt(balanceInput.current.value))\r\n                updateApplication({\r\n                  variables: {\r\n                    'query': {'_id': app.currentUser.customData.application},\r\n                    'set': {\r\n                      'balance': balanceInput.current.value\r\n                    }\r\n                  }\r\n                }).then(response => {\r\n                  console.log(response);\r\n                });\r\n              }}\r\n              type=\"submit\"\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\r\n            >\r\n              Set\r\n            </button>\r\n          </div>\r\n          <div className=\"col-span-2\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setShowModal(true);\r\n              }}\r\n              type=\"submit\"\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\r\n            >\r\n              Add new entry\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {generatedMonths.map((month) => {\r\n          if (entriesByDate(entries, recurringEntries, month).length <= 0) return '';\r\n\r\n          return (\r\n            <React.Fragment key={month.format('MM-YYYY')}>\r\n\r\n              <div className=\"mt-8\">\r\n                {month.format('MMMM YYYY')}\r\n              </div>\r\n\r\n              <div className=\"entries-container border rounded divide-y\">\r\n                {entriesByDate(entries, recurringEntries, month).map((entry: iEntry) => {\r\n                  currentBalance = entry.type === 'income' ? currentBalance + entry.amount : currentBalance - entry.amount;\r\n                  return (\r\n                    <div\r\n                      key={entry._id}\r\n                      onClick={() => {\r\n                        handleOnEntryClick(entry, `${month.format('MM-YYYY')}:${entry._id}`);\r\n                      }}\r\n                      className=\"entry p-2\">\r\n\r\n                      <div className=\"flex justify-between\">\r\n                        <div className=\"w-2/12\">\r\n                          {dayjs(entry.date).format('D.M.')}\r\n                        </div>\r\n                        <div className=\"w-6/12\">\r\n                          {entry.title}\r\n                        </div>\r\n                        <div className={classNames(\"w-2/12\", \"text-right\", \"font-semibold\", {\r\n                          \"text-red-500\": entry.type === 'expense',\r\n                          \"text-green-500\": entry.type === 'income'\r\n                        })}>\r\n                          {entry.type === 'expense' ? '-' : '+'}{entry.amount}\r\n                        </div>\r\n                        <div className=\"w-2/12 text-right font-semibold\">\r\n                          {currentBalance}\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                      {isSelectedEntry(`${month.format('MM-YYYY')}:${entry._id}`) &&\r\n                      <div className=\"flex justify-end space-x-2 text-xs mt-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            deleteEntry({\r\n                              variables: {\r\n                                query: {_id: entry._id}\r\n                              }\r\n                            }).then(response => {\r\n                              console.log(response);\r\n                            });\r\n                          }}\r\n                          className=\"border-b border-red-500 text-red-500\"\r\n                        >\r\n                          <FontAwesomeIcon icon={[\"far\", \"trash-alt\"]}/> Delete\r\n                        </button>\r\n                        <button\r\n                          onClick={handleOnEditClick}\r\n                          className=\"border-b border-indigo-500 text-indigo-500\"\r\n                        >\r\n                          <FontAwesomeIcon icon={[\"fas\", \"pencil-alt\"]} className=\"\"/> Edit\r\n                        </button>\r\n                      </div>\r\n                      }\r\n                    </div>\r\n\r\n\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n    </div>\r\n    </React.Fragment>\r\n\r\n  )\r\n}\r\n\r\nconst entriesByDate = (entries: Array<iEntry>, recurringEntries: Array<iEntry>, date: dayjs.Dayjs) => {\r\n  const filteredByDate = entries.filter((entry) => {\r\n    return dayjs(entry.date).startOf('month').isSame(date.startOf('month'));\r\n  });\r\n\r\n  const result = recurringEntries.map((entry) => {\r\n    const recurringDate = dayjs(entry.date).month(date.get('month')).year(date.get('year')).toISOString();\r\n    return {...entry, date: recurringDate}\r\n  });\r\n\r\n\r\n  return sortEntriesByDate(filteredByDate.concat(result).filter((entry) => {\r\n    return dayjs(entry.date).isAfter(dayjs())\r\n  }));\r\n}\r\n\r\nconst sortEntriesByDate = (entries: Array<iEntry>) => {\r\n  return entries.sort((a, b) => {\r\n    if (a.date > b.date) return 1;\r\n    if (a.date < b.date) return -1;\r\n    return 0;\r\n  })\r\n}\r\n\r\nexport default withRouter(Home)\r\n","import React, {useContext} from \"react\";\r\nimport * as Realm from \"realm-web\";\r\nimport {useRealmApp} from \"../RealmApp\";\r\nimport {Redirect} from \"react-router\";\r\n\r\nexport default function LoginScreen() {\r\n    const app = useRealmApp();\r\n    // Toggle between logging users in and registering new users\r\n    const [mode, setMode] = React.useState(\"login\");\r\n    const toggleMode = () => {\r\n        setMode((oldMode) => (oldMode === \"login\" ? \"register\" : \"login\"));\r\n    };\r\n    // Keep track of form input state\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    // Keep track of input validation/errors\r\n    const [error, setError] = React.useState({});\r\n    // Whenever the mode changes, clear the form inputs\r\n    React.useEffect(() => {\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        setError({});\r\n    }, [mode]);\r\n\r\n    const [isLoggingIn, setIsLoggingIn] = React.useState(false);\r\n    const handleLogin = async () => {\r\n        setIsLoggingIn(true);\r\n        setError((e) => ({...e, password: null}));\r\n        try {\r\n            await app.logIn(Realm.Credentials.emailPassword(email, password));\r\n        } catch (err) {\r\n            handleAuthenticationError(err, setError);\r\n        }\r\n    };\r\n\r\n\r\n    if (app.currentUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-md w-full\">\r\n                <div>\r\n                    <h2 className=\"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n                        Sign in\r\n                    </h2>\r\n                </div>\r\n                <form className=\"mt-8\">\r\n                    <div className=\"rounded-md shadow-sm\">\r\n                        <div>\r\n                            <input aria-label=\"Email address\" name=\"email\" type=\"email\" required\r\n                                   className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\"\r\n                                   placeholder=\"Email address\"\r\n                                   onChange={(e) => {\r\n                                       setError((e) => ({...e, email: null}));\r\n                                       setEmail(e.target.value);\r\n                                   }}\r\n                                   value={email}\r\n                            />\r\n                        </div>\r\n                        <div className=\"-mt-px\">\r\n                            <input aria-label=\"Password\" name=\"password\" type=\"password\" required\r\n                                   className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\"\r\n                                   placeholder=\"Password\"\r\n                                   onChange={(e) => {\r\n                                       setPassword(e.target.value);\r\n                                   }}\r\n                                   value={password}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"mt-6\">\r\n                        <button type=\"submit\"\r\n                                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\r\n                                onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    handleLogin()\r\n                                }}\r\n                        >\r\n                  <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n                    <svg\r\n                        className=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400 transition ease-in-out duration-150\"\r\n                        fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\"\r\n                            d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\"\r\n                            clipRule=\"evenodd\"/>\r\n                    </svg>\r\n                  </span>\r\n                            Sign in\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction handleAuthenticationError(err, setError) {\r\n    const {status, message} = parseAuthenticationError(err);\r\n    const errorType = message || status;\r\n    switch (errorType) {\r\n        case \"invalid username\":\r\n            setError((prevErr) => ({...prevErr, email: \"Invalid email address.\"}));\r\n            break;\r\n        case \"invalid username/password\":\r\n        case \"invalid password\":\r\n        case \"401\":\r\n            setError((err) => ({...err, password: \"Incorrect password.\"}));\r\n            break;\r\n        case \"name already in use\":\r\n        case \"409\":\r\n            setError((err) => ({...err, email: \"Email is already registered.\"}));\r\n            break;\r\n        case \"password must be between 6 and 128 characters\":\r\n        case \"400\":\r\n            setError((err) => ({\r\n                ...err,\r\n                password: \"Password must be between 6 and 128 characters.\",\r\n            }));\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nfunction parseAuthenticationError(err) {\r\n    const parts = err.message.split(\":\");\r\n    const reason = parts[parts.length - 1].trimStart();\r\n    if (!reason) return {status: \"\", message: \"\"};\r\n    const reasonRegex = /(?<message>.+)\\s\\(status (?<status>[0-9][0-9][0-9])/;\r\n    const match = reason.match(reasonRegex);\r\n    const {status, message} = match?.groups ?? {};\r\n    return {status, message};\r\n}\r\n","import React from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useRealmApp} from \"../RealmApp\";\r\n\r\nexport const ErrorStatusContext = React.createContext();\r\n\r\nconst ErrorHandler = ({children}) => {\r\n  const history = useHistory();\r\n  const [errorStatusCode, setErrorStatusCode] = React.useState();\r\n  const app = useRealmApp();\r\n\r\n  // Make sure to \"remove\" this status code whenever the user\r\n  // navigates to a new URL. If we didn't do that, then the user\r\n  // would be \"trapped\" into error pages forever\r\n  React.useEffect(() => {\r\n    // Listen for changes to the current location.\r\n    const unlisten = history.listen(() => setErrorStatusCode(undefined));\r\n\r\n    // cleanup the listener on unmount\r\n    return unlisten;\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (errorStatusCode === 401) {\r\n      // re-login is allowed only if current user is removed\r\n      app.forceLogout();\r\n    }\r\n  }, [errorStatusCode])\r\n\r\n  const renderContent = () => {\r\n    return children;\r\n  }\r\n\r\n  return (\r\n    <ErrorStatusContext.Provider value={{setErrorStatusCode}}>\r\n      {renderContent()}\r\n    </ErrorStatusContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ErrorHandler;","import React, {useContext} from \"react\";\nimport { useRealmApp } from \"../RealmApp\";\nimport {\n  ApolloClient,\n  HttpLink,\n  InMemoryCache,\n  ApolloProvider,\n} from \"@apollo/client\";\nimport { ErrorStatusContext } from \"../components/ErrorHandler\";\n\n\n// Create an ApolloClient that connects to the provided Realm.App's GraphQL API\nconst createRealmApolloClient = (app, setErrorStatusCode) => {\n  const link = new HttpLink({\n    uri: `https://realm.mongodb.com/api/client/v2.0/app/${app.id}/graphql`,\n    // A custom fetch handler adds the logged in user's access token to GraphQL requests\n    fetch: async (uri, options) => {\n      if (!app.currentUser) {\n        throw new Error(`Must be logged in to use the GraphQL API`);\n      }\n      // Refreshing a user's custom data also refreshes their access token\n      await app.currentUser.refreshCustomData().catch((error) => {\n        setErrorStatusCode(401);\n      });\n      // The handler adds a bearer token Authorization header to the otherwise unchanged request\n      options.headers.Authorization = `Bearer ${app.currentUser.accessToken}`;\n      return fetch(uri, options);\n    },\n  });\n\n  const cache = new InMemoryCache();\n\n  return new ApolloClient({ link, cache });\n};\n\nexport default function RealmApolloProvider({ children }) {\n  const app = useRealmApp();\n  const { setErrorStatusCode } = useContext(ErrorStatusContext);\n\n  const [client, setClient] = React.useState(createRealmApolloClient(app, setErrorStatusCode));\n  React.useEffect(() => {\n    setClient(createRealmApolloClient(app, setErrorStatusCode));\n  }, [app]);\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\n}\n","import React from 'react'\r\nimport {Redirect, Route} from 'react-router-dom'\r\nimport {useRealmApp} from \"../RealmApp\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n  const app = useRealmApp();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        app.currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{pathname: '/login', state: {from: props.location}}}/>\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import React, {useState} from 'react'\r\nimport {withRouter} from \"react-router\"\r\nimport {ADD_ENTRY} from \"../graphql/entryMutations\";\r\nimport {useMutation} from '@apollo/client';\r\nimport {useRealmApp} from \"../RealmApp\";\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst AddEntry = (props: Props) => {\r\n  const app = useRealmApp();\r\n  const [addEntry, {data}] = useMutation(ADD_ENTRY);\r\n  const [entryData, setEntryData] = useState({\r\n    title: '',\r\n    amount: 0,\r\n    type: 'expense',\r\n    date: new Date(),\r\n    is_recurring: false,\r\n    user: {\r\n      link: app.currentUser._id\r\n    }\r\n  });\r\n\r\n  const handleSubmit = () => {\r\n    addEntry({\r\n      variables: {\r\n        data: entryData\r\n      }\r\n    }).then(response => {\r\n      console.log(response);\r\n    });\r\n   };\r\n\r\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement|HTMLSelectElement>) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    let value: any;\r\n\r\n    if (target instanceof HTMLInputElement && target.type === 'checkbox') {\r\n      value = target.checked;\r\n    } else if (target.type === 'date') {\r\n      value = new Date(target.value);\r\n    } else {\r\n      value = target.value;\r\n    }\r\n\r\n    setEntryData({...entryData, [name]: value})\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n            Add entry\r\n          </h2>\r\n        </div>\r\n        <form className=\"mt-8\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <div className=\"col-span-2\">\r\n              <input\r\n                name=\"title\"\r\n                value={entryData.title}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Title\"\r\n                className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n              />\r\n            </div>\r\n            <div className=\"col-span-2\">\r\n              <input\r\n                name=\"date\"\r\n                value={entryData.date.toISOString().split('T')[0]}\r\n                onChange={handleInputChange}\r\n                type=\"date\"\r\n                placeholder=\"Date\"\r\n                className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n              />\r\n            </div>\r\n            <div className=\"col-span-1\">\r\n              <input\r\n                name=\"amount\"\r\n                value={entryData.amount}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n                min=\"0\"\r\n                placeholder=\"Amount\"\r\n                className=\"mt-1 form-input block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\r\n              />\r\n            </div>\r\n            <div className=\"col-span-1\">\r\n              <select\r\n                name=\"type\"\r\n                value={entryData.type}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Type\"\r\n                className=\"mt-1 block form-select w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\">\r\n                <option value=\"expense\">Expense</option>\r\n                <option value=\"income\">Income</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"col-span-2 flex items-start\">\r\n              <div className=\"items-center h-5\">\r\n                <input\r\n                  onChange={handleInputChange}\r\n                  checked={entryData.is_recurring}\r\n                  id=\"is_recurring\"\r\n                  name=\"is_recurring\"\r\n                  type=\"checkbox\"\r\n                  className=\"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out\"/>\r\n              </div>\r\n              <div className=\"ml-3 text-sm leading-5\">\r\n                <label htmlFor=\"is_recurring\" className=\"font-medium text-gray-700\">Is recurring</label>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n          <div className=\"mt-6\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                handleSubmit()\r\n              }}\r\n              type=\"submit\"\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(AddEntry)\r\n","import React from 'react'\r\nimport {HashRouter as Router, Route} from \"react-router-dom\"\r\nimport Home from './components/Home'\r\nimport LoginScreen from './components/LoginScreen'\r\nimport RealmApolloProvider from \"./graphql/RealmApolloProvider\";\r\nimport {RealmAppProvider} from \"./RealmApp\";\r\nimport './App.css';\r\nimport ErrorHandler from \"./components/ErrorHandler\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport AddEntry from \"./components/AddEntry\";\r\n\r\nexport const APP_ID = \"expenses-planner-react-tcjrv\";\r\n\r\nfunction App() {\r\n  return (\r\n    <RealmAppProvider appId={APP_ID}>\r\n      <Router>\r\n        <ErrorHandler>\r\n          <RealmApolloProvider>\r\n            <div className=\"App\">\r\n              <PrivateRoute exact path=\"/\" component={Home}/>\r\n              <PrivateRoute exact path=\"/entries/add\" component={AddEntry}/>\r\n              <Route exact path=\"/login\" component={LoginScreen}/>\r\n            </div>\r\n          </RealmApolloProvider>\r\n        </ErrorHandler>\r\n      </Router>\r\n    </RealmAppProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}